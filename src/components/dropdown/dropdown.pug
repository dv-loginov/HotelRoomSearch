include ../label/label
include ../dropdown-option/dropdown-option
include ../button/button

mixin dropdown(args)
    -
        const mod = args.options ? "dropdown-with-options" : ""
        const variant = args.variant
        const options = args.options
    div(class="dropdown " + mod data-type='dropdown' data-variant=variant)
        +label({text: args.label})
        .dropdown__wrap-input
            input(class="dropdown__input" placeholder=args.defValue readonly)
            div(class="dropdown__ico" data-action="expand")
                include ./img/expand_more.svg
        if args.options
            .dropdown__wrap-options
                each option, index in options
                    +dropdown-option({
                        text: option.text,
                        value: option.value,
                        item: index
                    })
                if args.variant === "people"
                    .dropdown__buttons
                        +button({
                            type: "link",
                            text: "очистить",
                            action: "clear"
                        })
                        +button({
                            type: "link",
                            text: "применить",
                            action: "apply"
                        })
